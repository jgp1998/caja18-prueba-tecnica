@model IEnumerable<Device>

<main class="container py-5">
	<h2 class="text-center mb-4">Lista de Dispositivos</h2>
	<ul class="nav nav-tabs justify-content-center mb-4">
		<li class="nav-item">
			<button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Vista Tabla</button>
		</li>
		<li class="nav-item">
			<button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Vista Card</button>
		</li>
	</ul>
	<div class="tab-content" id="myTabContent">
		<div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
			<div class="table-responsive">
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Id</th>
							<th>Nombre</th>
							<th>Caracteristicas</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<td>@item.Id</td>
								<td>@item.Name</td>
								<td>
									@if (item.Data != null && item.Data.Any())
									{
										<div>
											@foreach (var dataItem in item.Data)
											{
												<span style="margin-right: 10px;"><strong>@dataItem.Key:</strong> @dataItem.Value</span>
											}
										</div>
									}
									else
									{
										<span>No hay datos</span>
									}
								</td>

								<td><a asp-action="Details" asp-route-id="@item.Id" class="btn btn-primary btn-sm">Ver Detalle</a></td>
							</tr>
						}
					</tbody>


				</table>
			</div>

		</div>
		<div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
			<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

				@foreach (var item in Model)
				{
					<div class="col">
						<div class="card h-100 card-hover">
							<div class="card-header d-flex justify-content-between align-items-start">
								<h5 class="card-title mb-0">@item.Name</h5>
								<span class="badge bg-secondary">ID: @item.Id</span>
							</div>
							<div class="card-body">
								<div class="mb-2">
									<i class="bi bi-phone me-2"></i>
									<small>Smartphone</small>
								</div>
							</div>

							<div class="card-footer d-flex justify-content-between align-items-center">
								@if (item.Data != null && item.Data.Any())
								{
									<div>
										@foreach (var dataItem in item.Data)
										{
											<span style="margin-right: 10px;"><strong>@dataItem.Key:</strong> @dataItem.Value</span>
										}
									</div>
								}
								else
								{
									<span>No hay datos</span>
								}

								<a asp-action="Details" asp-route-id="@item.Id" class="btn btn-primary btn-sm">Ver Detalle</a>
							</div>
						</div>
					</div>
				}


			</div>

		</div>
	</div>
</main>